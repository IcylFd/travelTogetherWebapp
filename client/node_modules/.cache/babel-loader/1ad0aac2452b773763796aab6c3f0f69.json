{"ast":null,"code":"import \"antd-mobile/lib/image-picker/style/css\";\nimport _ImagePicker from \"antd-mobile/lib/image-picker\";\n\nvar _class,\n    _temp,\n    _jsxFileName = \"/Users/lifangdi/workspace/travel_together_webapp/src/pages/Mine/index.js\";\n\n/*\n * @Date: 2020-03-19 04:54:06\n * @LastEditors: lifangdi\n * @LastEditTime: 2020-03-21 22:39:21\n */\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Cropper from 'react-cropper';\nconst data = [{\n  url: 'https://zos.alipayobjects.com/rmsportal/PZUUCKTRIHWiZSY.jpeg',\n  id: '2121'\n}];\nconst cropper = React.createRef(null);\n\nlet Mine = withRouter(_class = (_temp = class Mine extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      files: data,\n      multiple: false\n    };\n\n    this.onChange = (files, type, index) => {\n      console.log(files, type, index);\n      this.setState({\n        files\n      });\n    };\n\n    this.onImageClick = e => {\n      // e.preventDefault();\n      this.setState({\n        files: [{\n          url: 'https://zos.alipayobjects.com/rmsportal/hqQWgTXdrlmVVYi.jpeg',\n          id: '3'\n        }]\n      });\n    };\n  }\n\n  _crop() {\n    // image in dataUrl\n    console.log(this.refs.cropper.getCroppedCanvas().toDataURL());\n  }\n\n  render() {\n    const {\n      files\n    } = this.state;\n    const {\n      clientHeight\n    } = this.props;\n    return React.createElement(\"div\", {\n      style: {\n        height: clientHeight - 95\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(_ImagePicker, {\n      files: files,\n      onChange: this.onChange,\n      onImageClick: this.onImageClick,\n      selectable: false,\n      multiple: this.state.multiple,\n      style: {\n        borderRadius: '50%'\n      },\n      disableDelete: true,\n      accept: \"image/jpge,image/jpg,image/png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), React.createElement(Cropper, {\n      ref: cropper,\n      src: \"../../public/logo192.png\",\n      style: {\n        height: 400,\n        width: '100%'\n      } // Cropper.js options\n      ,\n      aspectRatio: 16 / 9,\n      guides: false,\n      crop: this._crop.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }));\n  }\n\n}, _temp)) || _class;\n\nexport default Mine;","map":{"version":3,"sources":["/Users/lifangdi/workspace/travel_together_webapp/src/pages/Mine/index.js"],"names":["React","Component","withRouter","Cropper","data","url","id","cropper","createRef","Mine","state","files","multiple","onChange","type","index","console","log","setState","onImageClick","e","_crop","refs","getCroppedCanvas","toDataURL","render","clientHeight","props","height","borderRadius","width","bind"],"mappings":";;;;;;;AAAA;;;;;AAKA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAEA,OAAOC,OAAP,MAAoB,eAApB;AAEA,MAAMC,IAAI,GAAG,CAAC;AACZC,EAAAA,GAAG,EAAE,8DADO;AAEZC,EAAAA,EAAE,EAAE;AAFQ,CAAD,CAAb;AAKA,MAAMC,OAAO,GAAGP,KAAK,CAACQ,SAAN,CAAgB,IAAhB,CAAhB;;IAGMC,I,GADLP,U,mBAAD,MACMO,IADN,SACmBR,SADnB,CAC6B;AAAA;AAAA;AAAA,SAC3BS,KAD2B,GACnB;AACNC,MAAAA,KAAK,EAAEP,IADD;AAENQ,MAAAA,QAAQ,EAAE;AAFJ,KADmB;;AAAA,SAK3BC,QAL2B,GAKhB,CAACF,KAAD,EAAQG,IAAR,EAAcC,KAAd,KAAwB;AACjCC,MAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ,EAAmBG,IAAnB,EAAyBC,KAAzB;AACA,WAAKG,QAAL,CAAc;AACZP,QAAAA;AADY,OAAd;AAGD,KAV0B;;AAAA,SAW3BQ,YAX2B,GAWXC,CAAD,IAAO;AACpB;AACA,WAAKF,QAAL,CAAc;AAACP,QAAAA,KAAK,EAAE,CAAC;AACrBN,UAAAA,GAAG,EAAE,8DADgB;AAErBC,UAAAA,EAAE,EAAE;AAFiB,SAAD;AAAR,OAAd;AAID,KAjB0B;AAAA;;AAkB3Be,EAAAA,KAAK,GAAE;AACL;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKK,IAAL,CAAUf,OAAV,CAAkBgB,gBAAlB,GAAqCC,SAArC,EAAZ;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEd,MAAAA;AAAF,QAAY,KAAKD,KAAvB;AACA,UAAM;AAAEgB,MAAAA;AAAF,QAAmB,KAAKC,KAA9B;AACA,WACE;AAAK,MAAA,KAAK,EAAE;AAACC,QAAAA,MAAM,EAAEF,YAAY,GAAG;AAAxB,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,KAAK,EAAEf,KADT;AAEE,MAAA,QAAQ,EAAE,KAAKE,QAFjB;AAGE,MAAA,YAAY,EAAE,KAAKM,YAHrB;AAIE,MAAA,UAAU,EAAE,KAJd;AAKE,MAAA,QAAQ,EAAE,KAAKT,KAAL,CAAWE,QALvB;AAME,MAAA,KAAK,EAAE;AAACiB,QAAAA,YAAY,EAAE;AAAf,OANT;AAOE,MAAA,aAAa,MAPf;AAQE,MAAA,MAAM,EAAC,gCART;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAWE,oBAAC,OAAD;AACA,MAAA,GAAG,EAAEtB,OADL;AAEA,MAAA,GAAG,EAAC,0BAFJ;AAGA,MAAA,KAAK,EAAE;AAACqB,QAAAA,MAAM,EAAE,GAAT;AAAcE,QAAAA,KAAK,EAAE;AAArB,OAHP,CAIA;AAJA;AAKA,MAAA,WAAW,EAAE,KAAK,CALlB;AAMA,MAAA,MAAM,EAAE,KANR;AAOA,MAAA,IAAI,EAAE,KAAKT,KAAL,CAAWU,IAAX,CAAgB,IAAhB,CAPN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,CADF;AAsBD;;AAhD0B,C;;AAmD7B,eAAetB,IAAf","sourcesContent":["/*\n * @Date: 2020-03-19 04:54:06\n * @LastEditors: lifangdi\n * @LastEditTime: 2020-03-21 22:39:21\n */\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom'\nimport { ImagePicker } from 'antd-mobile';\nimport Cropper from 'react-cropper'\n\nconst data = [{\n  url: 'https://zos.alipayobjects.com/rmsportal/PZUUCKTRIHWiZSY.jpeg',\n  id: '2121',\n}];\n\nconst cropper = React.createRef(null);\n\n@withRouter\nclass Mine extends Component {\n  state = {\n    files: data,\n    multiple: false,\n  }\n  onChange = (files, type, index) => {\n    console.log(files, type, index);\n    this.setState({\n      files,\n    });\n  }\n  onImageClick = (e) => {\n    // e.preventDefault();\n    this.setState({files: [{\n      url: 'https://zos.alipayobjects.com/rmsportal/hqQWgTXdrlmVVYi.jpeg',\n      id: '3',\n    }]})\n  }\n  _crop(){\n    // image in dataUrl\n    console.log(this.refs.cropper.getCroppedCanvas().toDataURL());\n  }\n\n  render() {\n    const { files } = this.state;\n    const { clientHeight } = this.props\n    return (\n      <div style={{height: clientHeight - 95}}>\n        <ImagePicker\n          files={files}\n          onChange={this.onChange}\n          onImageClick={this.onImageClick}\n          selectable={false}\n          multiple={this.state.multiple}\n          style={{borderRadius: '50%'}}\n          disableDelete\n          accept=\"image/jpge,image/jpg,image/png\"\n        />\n        <Cropper\n        ref={cropper}\n        src='../../public/logo192.png'\n        style={{height: 400, width: '100%'}}\n        // Cropper.js options\n        aspectRatio={16 / 9}\n        guides={false}\n        crop={this._crop.bind(this)} />\n      </div>\n    )\n  }\n}\n\nexport default Mine;"]},"metadata":{},"sourceType":"module"}