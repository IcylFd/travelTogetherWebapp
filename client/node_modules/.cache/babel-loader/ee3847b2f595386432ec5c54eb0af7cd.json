{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _rmcSteps = require('rmc-steps');\n\nvar _rmcSteps2 = _interopRequireDefault(_rmcSteps);\n\nvar _icon = require('../icon');\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar Steps = function (_React$Component) {\n  (0, _inherits3['default'])(Steps, _React$Component);\n\n  function Steps() {\n    (0, _classCallCheck3['default'])(this, Steps);\n    return (0, _possibleConstructorReturn3['default'])(this, (Steps.__proto__ || Object.getPrototypeOf(Steps)).apply(this, arguments));\n  }\n\n  (0, _createClass3['default'])(Steps, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.componentDidUpdate();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.direction !== 'horizontal') {\n        return;\n      } // set tail's left position based on main's width for each step dynamically.\n\n\n      this.stepRefs.forEach(function (s) {\n        if (s.refs.tail) {\n          s.refs.tail.style.left = s.refs.main.offsetWidth / 2 + 'px';\n        }\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      this.stepRefs = [];\n      var _props = this.props,\n          children = _props.children,\n          status = _props.status,\n          size = _props.size;\n      var current = this.props.current; // flattern the array at first https://github.com/ant-design/ant-design-mobile/issues/934\n\n      var filterChildren = [];\n\n      if (children && children.length) {\n        children.forEach(function (item) {\n          if (React.isValidElement(item)) {\n            filterChildren.push(item);\n          }\n        });\n      }\n\n      var newChildren = React.Children.map(filterChildren, function (item, index) {\n        var className = item.props.className;\n\n        if (index < filterChildren.length - 1 && filterChildren[index + 1].props.status === 'error') {\n          className = className ? className + ' error-tail' : 'error-tail';\n        }\n\n        var icon = item.props.icon;\n\n        if (!icon) {\n          if (index < current) {\n            // 对应 state: finish\n            icon = 'check-circle-o';\n          } else if (index > current) {\n            // 对应 state: wait\n            icon = 'ellipsis';\n            className = className ? className + ' ellipsis-item' : 'ellipsis-item';\n          }\n\n          if (status === 'error' && index === current || item.props.status === 'error') {\n            icon = 'cross-circle-o';\n          }\n        }\n\n        icon = typeof icon === 'string' ? React.createElement(_icon2['default'], {\n          type: icon,\n          size: size === 'small' ? status === 'wait' ? 'xxs' : 'xs' : 'md'\n        }) : icon;\n        return React.cloneElement(item, {\n          icon: icon,\n          className: className,\n          ref: function ref(c) {\n            return _this2.stepRefs[index] = c;\n          }\n        });\n      });\n      return React.createElement(_rmcSteps2['default'], (0, _extends3['default'])({\n        ref: function ref(el) {\n          return _this2.stepsRef = el;\n        }\n      }, this.props), newChildren);\n    }\n  }]);\n  return Steps;\n}(React.Component);\n\nexports['default'] = Steps;\nSteps.Step = _rmcSteps2['default'].Step;\nSteps.defaultProps = {\n  prefixCls: 'am-steps',\n  iconPrefix: 'ant',\n  labelPlacement: 'vertical',\n  direction: 'vertical',\n  current: 0\n};\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/lifangdi/workspace/travel_together_webapp/node_modules/antd-mobile/lib/steps/index.js"],"names":["Object","defineProperty","exports","value","_extends2","require","_extends3","_interopRequireDefault","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","React","_interopRequireWildcard","_rmcSteps","_rmcSteps2","_icon","_icon2","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","Steps","_React$Component","__proto__","getPrototypeOf","apply","arguments","componentDidMount","componentDidUpdate","props","direction","stepRefs","forEach","s","refs","tail","style","left","main","offsetWidth","render","_this2","_props","children","status","size","current","filterChildren","length","item","isValidElement","push","newChildren","Children","map","index","className","icon","createElement","type","cloneElement","ref","c","el","stepsRef","Component","Step","defaultProps","prefixCls","iconPrefix","labelPlacement","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _rmcSteps = require('rmc-steps');\n\nvar _rmcSteps2 = _interopRequireDefault(_rmcSteps);\n\nvar _icon = require('../icon');\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar Steps = function (_React$Component) {\n    (0, _inherits3['default'])(Steps, _React$Component);\n\n    function Steps() {\n        (0, _classCallCheck3['default'])(this, Steps);\n        return (0, _possibleConstructorReturn3['default'])(this, (Steps.__proto__ || Object.getPrototypeOf(Steps)).apply(this, arguments));\n    }\n\n    (0, _createClass3['default'])(Steps, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.componentDidUpdate();\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            if (this.props.direction !== 'horizontal') {\n                return;\n            }\n            // set tail's left position based on main's width for each step dynamically.\n            this.stepRefs.forEach(function (s) {\n                if (s.refs.tail) {\n                    s.refs.tail.style.left = s.refs.main.offsetWidth / 2 + 'px';\n                }\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            this.stepRefs = [];\n            var _props = this.props,\n                children = _props.children,\n                status = _props.status,\n                size = _props.size;\n\n            var current = this.props.current;\n            // flattern the array at first https://github.com/ant-design/ant-design-mobile/issues/934\n            var filterChildren = [];\n            if (children && children.length) {\n                children.forEach(function (item) {\n                    if (React.isValidElement(item)) {\n                        filterChildren.push(item);\n                    }\n                });\n            }\n            var newChildren = React.Children.map(filterChildren, function (item, index) {\n                var className = item.props.className;\n                if (index < filterChildren.length - 1 && filterChildren[index + 1].props.status === 'error') {\n                    className = className ? className + ' error-tail' : 'error-tail';\n                }\n                var icon = item.props.icon;\n                if (!icon) {\n                    if (index < current) {\n                        // 对应 state: finish\n                        icon = 'check-circle-o';\n                    } else if (index > current) {\n                        // 对应 state: wait\n                        icon = 'ellipsis';\n                        className = className ? className + ' ellipsis-item' : 'ellipsis-item';\n                    }\n                    if (status === 'error' && index === current || item.props.status === 'error') {\n                        icon = 'cross-circle-o';\n                    }\n                }\n                icon = typeof icon === 'string' ? React.createElement(_icon2['default'], { type: icon, size: size === 'small' ? status === 'wait' ? 'xxs' : 'xs' : 'md' }) : icon;\n                return React.cloneElement(item, {\n                    icon: icon,\n                    className: className,\n                    ref: function ref(c) {\n                        return _this2.stepRefs[index] = c;\n                    }\n                });\n            });\n            return React.createElement(\n                _rmcSteps2['default'],\n                (0, _extends3['default'])({ ref: function ref(el) {\n                        return _this2.stepsRef = el;\n                    } }, this.props),\n                newChildren\n            );\n        }\n    }]);\n    return Steps;\n}(React.Component);\n\nexports['default'] = Steps;\n\nSteps.Step = _rmcSteps2['default'].Step;\nSteps.defaultProps = {\n    prefixCls: 'am-steps',\n    iconPrefix: 'ant',\n    labelPlacement: 'vertical',\n    direction: 'vertical',\n    current: 0\n};\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}