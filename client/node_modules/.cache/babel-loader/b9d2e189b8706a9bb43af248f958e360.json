{"ast":null,"code":"import \"antd-mobile/lib/toast/style/css\";\nimport _Toast from \"antd-mobile/lib/toast\";\nimport _initializerDefineProperty from \"/Users/lifangdi/workspace/travel_together_webapp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _applyDecoratedDescriptor from \"/Users/lifangdi/workspace/travel_together_webapp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"/Users/lifangdi/workspace/travel_together_webapp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper\";\n\nvar _dec, _class, _descriptor, _descriptor2, _temp;\n\n/*\n * @Date: 2020-05-02 14:53:08\n * @LastEditors: lifangdi\n * @LastEditTime: 2020-05-03 14:05:50\n */\nimport { observable, action, toJS } from 'mobx';\nimport API from '../services/app';\nlet Activities = (_dec = action.bound, (_class = (_temp = class Activities {\n  constructor() {\n    _initializerDefineProperty(this, \"activitiesList\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"loading\", _descriptor2, this);\n  }\n\n  async getActivitiesList() {\n    this.loading = true;\n    return await API.getActivitiesList().then(data => {\n      this.activitiesList = data.list;\n      console.log(toJS(this.activitiesList), data, '-----');\n      this.loading = false;\n    }).catch(err => {\n      this.activitiesList = [];\n      this.loading = false;\n\n      _Toast.fail(`获取文章列表错误：${err}`, 3);\n    });\n  }\n\n}, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"activitiesList\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return [];\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"loading\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"getActivitiesList\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"getActivitiesList\"), _class.prototype)), _class));\nexport default Activities;","map":{"version":3,"sources":["/Users/lifangdi/workspace/travel_together_webapp/client/src/stores/activities.js"],"names":["observable","action","toJS","API","Activities","bound","getActivitiesList","loading","then","data","activitiesList","list","console","log","catch","err","fail"],"mappings":";;;;;;;;AAAA;;;;;AAKA,SAASA,UAAT,EAAqBC,MAArB,EAA6BC,IAA7B,QAAyC,MAAzC;AAEA,OAAOC,GAAP,MAAgB,iBAAhB;IAEMC,U,WAIHH,MAAM,CAACI,K,qBAJV,MAAMD,UAAN,CAAiB;AAAA;AAAA;;AAAA;AAAA;;AAIf,QACOE,iBADP,GAC2B;AACzB,SAAKC,OAAL,GAAe,IAAf;AACA,WAAO,MAAMJ,GAAG,CAACG,iBAAJ,GAAwBE,IAAxB,CAA6BC,IAAI,IAAI;AAChD,WAAKC,cAAL,GAAsBD,IAAI,CAACE,IAA3B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYX,IAAI,CAAC,KAAKQ,cAAN,CAAhB,EAAuCD,IAAvC,EAA6C,OAA7C;AACA,WAAKF,OAAL,GAAe,KAAf;AACD,KAJY,EAIVO,KAJU,CAIJC,GAAG,IAAI;AACd,WAAKL,cAAL,GAAsB,EAAtB;AACA,WAAKH,OAAL,GAAe,KAAf;;AACA,aAAMS,IAAN,CAAY,YAAWD,GAAI,EAA3B,EAA8B,CAA9B;AACD,KARY,CAAb;AASD;;AAhBc,C,wFACdf,U;;;;;WAA4B,E;;2EAC5BA,U;;;;;WAAqB,K;;;AAiBxB,eAAeI,UAAf","sourcesContent":["/*\n * @Date: 2020-05-02 14:53:08\n * @LastEditors: lifangdi\n * @LastEditTime: 2020-05-03 14:05:50\n */\nimport { observable, action, toJS } from 'mobx';\nimport { Toast } from 'antd-mobile';\nimport API from '../services/app';\n\nclass Activities {\n  @observable activitiesList = []\n  @observable loading = false\n\n  @action.bound\n   async getActivitiesList() {\n    this.loading = true;\n    return await API.getActivitiesList().then(data => {\n      this.activitiesList = data.list;\n      console.log(toJS(this.activitiesList), data, '-----')\n      this.loading = false;\n    }).catch(err => {\n      this.activitiesList = [];\n      this.loading = false;\n      Toast.fail(`获取文章列表错误：${err}`, 3);\n    });\n  }\n}\n\nexport default Activities;\n"]},"metadata":{},"sourceType":"module"}